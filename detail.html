<html>
  <head>
    <title>AMAZING MARKET</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./detail.css" />
    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./index.css" />
    <style>
      .carousel-container {
        position: relative;
        max-width: 500px;
        min-width: 300px;
        height: auto;
      }

      .carousel {
        display: flex;
        overflow-x: scroll;
        scroll-snap-type: x mandatory;
        white-space: nowrap;
        width: 100%;
      }

      .carousel img {
        flex: 0 0 auto;
        scroll-snap-align: start;
        object-fit: cover;
        height: inherit;
      }

      .carousel-button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(240, 240, 240, 0.5);
        color: rgb(60, 72, 107);
        border: none;
        padding: 15px 20px;
        cursor: pointer;
        font-size: 40px;
      }

      .carousel-button.prev {
        left: 0;
      }

      .carousel-button.next {
        right: 0;
      }
    </style>
  </head>

  <body>
    <header class="sticky">
      <div id="logo">ğŸ’–ì–´ë©”ì´ì§•ë§ˆì¼“ğŸ’–</div>
      <nav id="menu">
        <button class="icon icon-nav material-symbols-rounded" id="button-cart">
          shopping_cart_checkout
        </button>
        <button class="icon icon-nav material-symbols-rounded">person</button>
      </nav>
    </header>
    <main>
      <div class="container flex-row">
        <div class="carousel-container">
          <button class="carousel-button prev">â—€</button>
          <div class="carousel">
            <img
              src="https://media.graphassets.com/oEwLLr2nQCWdd3drkWsV"
              alt="ìƒí’ˆ ì´ë¯¸ì§€"
              class="product-image"
            />
            <img
              src="https://media.graphassets.com/z2a5GFTHRAGPQ2Llxl7k"
              alt="ìƒí’ˆ ì´ë¯¸ì§€"
              class="product-image"
            />
            <img
              src="https://media.graphassets.com/3FRJPWTBO6JqPe9WK3mw"
              alt="ìƒí’ˆ ì´ë¯¸ì§€"
              class="product-image"
            />
          </div>
          <button class="carousel-button next">â–¶</button>
        </div>
        <section id="util">
          <div>
            <h1 class="product-title">
              [ê²¨ìš¸ ëª©ë„ë¦¬ ëª¨ìŒ] 3ê°€ì§€ ë”°ëœ»í•œ ëª©ë„ë¦¬ SET
            </h1>
            <h2 class="product-price">â‚© 21,000 ì›</h2>
          </div>
          <div>
            <div class="buttons flex-row">
              <a href="#" class="buy-button">ì¥ë°”êµ¬ë‹ˆ</a>
              <a href="#" class="buy-button">êµ¬ë§¤í•˜ê¸°</a>
            </div>
            <div>
              <p class="product-description">
                <strong>ë°°ì†¡ë¹„</strong>
                <br />
                50,000ì› ë¯¸ë§Œ ê²°ì œ ì‹œ ë°°ì†¡ë¹„ 3,000ì›
                <br />
                ì œì£¼ë„ë¥¼ í¬í•¨í•œ ë„ì„œ/ì‚°ê°„ì§€ì—­ì€ ì¶”ê°€ë°°ì†¡ë¹„ 3,000ì›
              </p>
            </div>
          </div>
        </section>
      </div>
      <section class="detail-description">
        <img
          src="https://media.graphassets.com/J1Er2Nm5QH2vVVoAJTyK"
          alt="ìƒí’ˆ ìƒì„¸ ì´ë¯¸ì§€"
          class="detail-image"
        />
      </section>
    </main>
    <footer>
      OPENMARKET â“’ 2023
      <br />
      ëŒ€í‘œë²ˆí˜¸ 02-0000-0000 ëŒ€í‘œì´ë©”ì¼ ulift@ulift.kr
      <br />
      All Photos by Unsplash
    </footer>
    <script>
      const carousel = document.querySelector('.carousel');
      const btnPrev = document.querySelector('.carousel-button.prev');
      const btnNext = document.querySelector('.carousel-button.next');

      let currentIndex = 0;
      const lastIndex = 2;
      let isThrottled = false;
      const throttleDuration = 500;

      document.addEventListener('DOMContentLoaded', () => {
        updateVisibilityOfSlideButtons(currentIndex);
      });

      btnPrev.addEventListener('click', () => {
        if (isThrottled) return;
        isThrottled = true;

        carousel.scrollBy({
          left: -carousel.clientWidth,
          behavior: 'smooth',
        });
        currentIndex--;
        updateVisibilityOfSlideButtons(currentIndex);

        setTimeout(() => {
          isThrottled = false;
        }, throttleDuration);
      });

      btnNext.addEventListener('click', () => {
        if (isThrottled) return;
        isThrottled = true;

        carousel.scrollBy({
          left: carousel.clientWidth,
          behavior: 'smooth',
        });
        currentIndex++;
        updateVisibilityOfSlideButtons(currentIndex);

        setTimeout(() => {
          isThrottled = false;
        }, throttleDuration);
      });

      function updateVisibilityOfSlideButtons(currentIndex) {
        if (currentIndex === 0) {
          btnPrev.style.display = 'none';
          btnNext.style.display = 'block';
        } else if (currentIndex === 1) {
          btnPrev.style.display = 'block';
          btnNext.style.display = 'block';
        } else {
          btnPrev.style.display = 'block';
          btnNext.style.display = 'none';
        }
      }
    </script>
    <script src="./header.js"></script>
  </body>
</html>
