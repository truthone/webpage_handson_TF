const promotions = [
  {
    sectionTitle: "[Ìë∏Îìú] Í±¥Í∞ïÌïòÍ≥† ÎßõÏûàÎäî ÏãùÏû¨Î£åü•ù",
    products: [
      {
        productName: "Î≤†Î¶¨Î≤†Î¶¨ ÏÑ§Ìñ• Îî∏Í∏∞ 3Ìå© Î¨∂Ïùå",
        price: 15000,
        discountPrice: 8000,
        productId: "404",
        imageUrl: "https://media.graphassets.com/RfDbsZyuQ5euPYYVy2rW",
      },

      {
        productName: "Ïö∞Î¶¨ÏûêÏó∞ÎÜçÏÇ∞Î¨º ÌÜ†Ï¢Ö ÏïÑÏπ¥ÏãúÏïÑ ÍøÄ 100%",
        price: 19000,
        discountPrice: 9800,
        productId: "402",
        imageUrl: "https://media.graphassets.com/zEhUDReuTI6YHlr4fbp4",
      },
      {
        productName: "Ïñ¥Í∏ÄÎ¶¨Ïò§ÏºÄÏù¥ Ïú†Í∏∞ÎÜç ÏûêÏó∞ ÎÜçÏÇ∞Î¨º Î≥¥Îî∞Î¶¨ ÎØ∏Îãà",
        price: 12400,
        discountPrice: 8400,
        productId: "403",
        imageUrl: "https://media.graphassets.com/4tZPgmbsS6ejyGkGChpw",
      },
      {
        productName: "Î∞ÄÌï¥ÌîºÎ∞Ä Í±¥Ï°∞ Î≤†Î¶¨Ïù¥ Îì§Ïñ¥Í∞Ñ Ïî®Î¶¨Ïñº ÏïÑÏπ®ÎåÄÏö©",
        price: 28000,
        discountPrice: 8000,
        productId: "401",
        imageUrl: "https://media.graphassets.com/qsvCDwaESkinc0UlRqED",
      },
    ],
  },
  {
    sectionTitle: "[Î∑∞Ìã∞] Ïã†ÏÉÅ Ïª¨Îü¨ ÏßëÌï©!üé®",
    products: [
      {
        productName: "Ìó§Ïù¥Î©îÏù¥ÌÅ¨ÏóÖ Ïú†Î¶¨Ïïå Í∏ÄÎ°úÏãú Ìã¥Ìä∏",
        price: 13000,
        discountPrice: 7800,
        productId: "201",
        imageUrl: "https://media.graphassets.com/yojHQL0RriVlNdUmSCZX",
      },
      {
        productName: "Î∑∞Î¶¨ÌíÄÎ∑∞Î¶¨ ÏóêÏñ¥ Ï¥âÏ¥â ÏΩ§Ìå©Ìä∏ ÌååÏö¥Îç∞Ïù¥ÏÖò Ïø†ÏÖò",
        price: 19000,
        discountPrice: 9800,
        productId: "202",
        imageUrl: "https://media.graphassets.com/RycKvc6jRWyjiQpXz9NU",
      },
      {
        productName: "Î∑∞Î¶¨ÌíÄÎ∑∞Î¶¨ Ïª¨ÎßÅ Î≥ºÎ•®ÏóÖ ÎßàÏä§Ïπ¥Îùº ver2",
        price: 19000,
        discountPrice: 11000,
        productId: "203",
        imageUrl: "https://media.graphassets.com/FXPkYrm6Ta6AMCHQ677t",
      },
      {
        productName: "Ìó§Ïù¥Î©îÏù¥ÌÅ¨ÏóÖ Î∏åÎü¨Ïâ¨ ÏÑ∏Ìä∏ + ÌçºÏä§ÎÑêÏª¨Îü¨ ÏõúÌÜ§ ÌåîÎ†àÌä∏",
        price: 36500,
        discountPrice: 21000,
        productId: "204",
        imageUrl: "https://media.graphassets.com/swECJc4SMqgiVJPf2HLU",
      },
    ],
  },
  {
    sectionTitle: "[Ïû°Ìôî] Ìñ•Í∏∞Î°úÏõåÏßÄÎäî ÎßàÎ≤ïüå∫",
    products: [
      {
        productName: "GOLDEN SCENT Ïö∞Îîî Î®∏Ïä§ÌÅ¨ ÎîîÌì®Ï†Ä Î∏îÎûô",
        price: 14000,
        discountPrice: 8800,
        productId: "302",
        imageUrl: "https://media.graphassets.com/Q2wF87XRsypxkbR3eoxA",
      },
      {
        productName: "ÎÑ§Ïù¥Ï≤òÌååÏö¥Îìú Ïú†ÏπºÎ¶ΩÌà¨Ïä§ ÏïÑÎ°úÎßà Ïò§Ïùº 20ml",
        price: 8700,
        discountPrice: 3200,
        productId: "303",
        imageUrl: "https://media.graphassets.com/grsQhbCjRvqpCqYVN3YH",
      },
      {
        productName: "ÎÑ§Ïù¥Ï≤òÌååÏö¥Îìú ÎπÑÏò®Îí§ ÏÉÅÏæåÌïú Ìñ• Î°§ÎßÅÏò® ÏïÑÎ°úÎßà 20ml ",
        price: 13000,
        discountPrice: 8000,
        productId: "301",
        imageUrl: "https://media.graphassets.com/qEdoFg3SToGccBmkTXCG",
      },
      {
        productName: "GOLDEN SCENT ÎÑ§Ïù¥Ï≤ò Í≥®Îì† Ïö∞Îìú Ìñ•Ïàò 45ml",
        price: 48000,
        discountPrice: 39000,
        productId: "304",
        imageUrl: "https://media.graphassets.com/PIWwpLC3Qh2ELsKaT0YD",
      },
    ],
  },
  {
    sectionTitle: "[ÌÖåÎßà] ÌïúÍ∞ïÏúºÎ°ú Í≥†Í≥†! ÌîºÌÅ¨Îãâ Í∞êÏÑ± ü•Ç",
    products: [
      {
        productName: "ÎèôÏú†ÎüΩÍ∞êÏÑ± ÌîºÌÅ¨Îãâ Ìñá + ÌîºÌÅ¨Îãâ Í∞ÄÎ∞© ÏÑ∏Ìä∏",
        price: 28000,
        discountPrice: 8000,
        productId: "401",
        imageUrl: "https://media.graphassets.com/TTUhaiT0lsmx7eon1PAZ",
        link: "./detail.html",
      },
      {
        productName: "ÌîºÌÅ¨Îãâ Î∞îÍµ¨Îãà (Î†àÎìú Ï≤¥ÌÅ¨ ÏãùÌÉÅÎ≥¥ Ìè¨Ìï®)",
        price: 19000,
        discountPrice: 9800,
        productId: "402",
        imageUrl: "https://media.graphassets.com/nguzRYFFRPeRMClFt7YX",
      },
      {
        productName: "ÌîºÌÅ¨Îãâ ÌîåÎ†àÏ†Ä ÎîîÏâ¨ Ïö∞Îìú Ìä∏Î†àÏù¥",
        price: 12400,
        discountPrice: 8400,
        productId: "403",
        imageUrl: "https://media.graphassets.com/zJwe9WH5TvO0z6oZlOaZ",
      },
      {
        productName: "ÌîåÎùºÏä§Ìã± ÏôÄÏù∏ Í≥†Î∏îÎ†õ Ïûî 2p",
        price: 10000,
        discountPrice: 8000,
        productId: "404",
        imageUrl: "https://media.graphassets.com/RoWLHySjSgqrQeLR1N2B",
      },
    ],
  },
];

document.addEventListener("DOMContentLoaded", () => {
  const mainTag = document.getElementsByTagName("main")[0];
  renderPromotions(mainTag, promotions);
  renderProducts(mainTag, promotions);
});

function renderPromotions(mainTag, promotions) {
  const result = promotions
    .map((promotion) => {
      return `
      <section>
          <h1 class="section-title">${promotion.sectionTitle}</h1>
          <div class="productContainer grid">
          </div>
        </section>
      `;
    })
    .join("");

  mainTag.innerHTML += result;
}

function renderProducts(mainTag, promotions) {
  const productContainers = mainTag.getElementsByClassName("productContainer");
  promotions.forEach((promotion, index) => {
    const productContainer = productContainers[index];
    const productsMarkup = promotion.products
      .map((product) => createProductMarkup(product))
      .join("");
    productContainer.innerHTML = productsMarkup;
  });
}

function createProductMarkup(product) {
  return `
    <div class="item" data-id="${product.productId}">
      <figure>
        <img class="item-thumbnail" 
          src="${product.imageUrl}" 
          alt="${product.productName} ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ" />
      </figure>
      <div class="flex-between">
        <div class="item-info">
          <a href="${product.link}"class="item-name">
            ${product.productName}
          </a>
          <div class="price-info">
            <p class="item-price">${product.price.toLocaleString()}Ïõê</p>
            <p class="saled-price">${product.discountPrice.toLocaleString()}Ïõê</p>
          </div>
        </div>
        <button aria-label="${product.productName} ÏÉÅÌíà Ï∂îÍ∞Ä Î≤ÑÌäº"
          data-id="${product.productId}">
          <span class="icon icon-add-cart material-symbols-rounded add-cart-button">add_Circle</span>
        </button>
      </div>
    </div>
  `;
}
