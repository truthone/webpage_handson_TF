<html>
  <head>
    <title>AMAZING MARKET</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./index.css" />
  </head>

  <body>
    <header class="sticky">
      <div id="logo">ğŸ’–ì–´ë©”ì´ì§•ë§ˆì¼“ğŸ’–</div>
      <nav id="menu">
        <button class="icon icon-nav material-symbols-rounded" id="cart-button">
          shopping_cart_checkout
        </button>
        <button class="icon icon-nav material-symbols-rounded">person</button>
      </nav>
    </header>
    <main>
      <article>
        <img
          src="https://media.graphassets.com/1VNPaRMKQH6XD3hQT9Fd"
          alt="ë©”ì¸ ë°°ë„ˆ"
        />
      </article>
    </main>
    <footer>
      AMAZING MARKET â“’ 2023
      <br />
      ëŒ€í‘œë²ˆí˜¸ 02-0000-0000 ëŒ€í‘œì´ë©”ì¼ ulift@ulift.kr
      <br />
      All Photos by Unsplash
    </footer>
    <script src="./header.js"></script>
    <script src="./render.js"></script>
    <script>
      const data = [
        {
          sectionTitle: "[í‘¸ë“œ] ê±´ê°•í•˜ê³  ë§›ìˆëŠ” ì‹ì¬ë£ŒğŸ¥",
          products: [
            {
              productName: "ë² ë¦¬ë² ë¦¬ ì„¤í–¥ ë”¸ê¸° 3íŒ© ë¬¶ìŒ",
              price: 15000,
              discountPrice: 8000,
              productId: "404",
              imageUrl: "https://media.graphassets.com/RfDbsZyuQ5euPYYVy2rW",
            },

            {
              productName: "ìš°ë¦¬ìì—°ë†ì‚°ë¬¼ í† ì¢… ì•„ì¹´ì‹œì•„ ê¿€ 100%",
              price: 19000,
              discountPrice: 9800,
              productId: "402",
              imageUrl: "https://media.graphassets.com/zEhUDReuTI6YHlr4fbp4",
            },
            {
              productName: "ì–´ê¸€ë¦¬ì˜¤ì¼€ì´ ìœ ê¸°ë† ìì—° ë†ì‚°ë¬¼ ë³´ë”°ë¦¬ ë¯¸ë‹ˆ",
              price: 12400,
              discountPrice: 8400,
              productId: "403",
              imageUrl: "https://media.graphassets.com/4tZPgmbsS6ejyGkGChpw",
            },
            {
              productName: "ë°€í•´í”¼ë°€ ê±´ì¡° ë² ë¦¬ì´ ë“¤ì–´ê°„ ì”¨ë¦¬ì–¼ ì•„ì¹¨ëŒ€ìš©",
              price: 28000,
              discountPrice: 8000,
              productId: "401",
              imageUrl: "https://media.graphassets.com/qsvCDwaESkinc0UlRqED",
            },
          ],
        },
        {
          sectionTitle: "[ë·°í‹°] ì‹ ìƒ ì»¬ëŸ¬ ì§‘í•©!ğŸ¨",
          products: [
            {
              productName: "í—¤ì´ë©”ì´í¬ì—… ìœ ë¦¬ì•Œ ê¸€ë¡œì‹œ í‹´íŠ¸",
              price: 13000,
              discountPrice: 7800,
              productId: "201",
              imageUrl: "https://media.graphassets.com/yojHQL0RriVlNdUmSCZX",
            },
            {
              productName: "ë·°ë¦¬í’€ë·°ë¦¬ ì—ì–´ ì´‰ì´‰ ì½¤íŒ©íŠ¸ íŒŒìš´ë°ì´ì…˜ ì¿ ì…˜",
              price: 19000,
              discountPrice: 9800,
              productId: "202",
              imageUrl: "https://media.graphassets.com/RycKvc6jRWyjiQpXz9NU",
            },
            {
              productName: "ë·°ë¦¬í’€ë·°ë¦¬ ì»¬ë§ ë³¼ë¥¨ì—… ë§ˆìŠ¤ì¹´ë¼ ver2",
              price: 19000,
              discountPrice: 11000,
              productId: "203",
              imageUrl: "https://media.graphassets.com/FXPkYrm6Ta6AMCHQ677t",
            },
            {
              productName: "í—¤ì´ë©”ì´í¬ì—… ë¸ŒëŸ¬ì‰¬ ì„¸íŠ¸ + í¼ìŠ¤ë„ì»¬ëŸ¬ ì›œí†¤ íŒ”ë ˆíŠ¸",
              price: 36500,
              discountPrice: 21000,
              productId: "204",
              imageUrl: "https://media.graphassets.com/swECJc4SMqgiVJPf2HLU",
            },
          ],
        },
        {
          sectionTitle: "[ì¡í™”] í–¥ê¸°ë¡œì›Œì§€ëŠ” ë§ˆë²•ğŸŒº",
          products: [
            {
              productName: "GOLDEN SCENT ìš°ë”” ë¨¸ìŠ¤í¬ ë””í“¨ì € ë¸”ë™",
              price: 14000,
              discountPrice: 8800,
              productId: "302",
              imageUrl: "https://media.graphassets.com/Q2wF87XRsypxkbR3eoxA",
            },
            {
              productName: "ë„¤ì´ì²˜íŒŒìš´ë“œ ìœ ì¹¼ë¦½íˆ¬ìŠ¤ ì•„ë¡œë§ˆ ì˜¤ì¼ 20ml",
              price: 8700,
              discountPrice: 3200,
              productId: "303",
              imageUrl: "https://media.graphassets.com/grsQhbCjRvqpCqYVN3YH",
            },
            {
              productName: "ë„¤ì´ì²˜íŒŒìš´ë“œ ë¹„ì˜¨ë’¤ ìƒì¾Œí•œ í–¥ ë¡¤ë§ì˜¨ ì•„ë¡œë§ˆ 20ml ",
              price: 13000,
              discountPrice: 8000,
              productId: "301",
              imageUrl: "https://media.graphassets.com/qEdoFg3SToGccBmkTXCG",
            },
            {
              productName: "GOLDEN SCENT ë„¤ì´ì²˜ ê³¨ë“  ìš°ë“œ í–¥ìˆ˜ 45ml",
              price: 48000,
              discountPrice: 39000,
              productId: "304",
              imageUrl: "https://media.graphassets.com/PIWwpLC3Qh2ELsKaT0YD",
            },
          ],
        },
        {
          sectionTitle: "[í…Œë§ˆ] í•œê°•ìœ¼ë¡œ ê³ ê³ ! í”¼í¬ë‹‰ ê°ì„± ğŸ¥‚",
          products: [
            {
              productName: "ë™ìœ ëŸ½ê°ì„± í”¼í¬ë‹‰ í–‡ + í”¼í¬ë‹‰ ê°€ë°© ì„¸íŠ¸",
              price: 28000,
              discountPrice: 8000,
              productId: "p1",
              imageUrl: "https://media.graphassets.com/TTUhaiT0lsmx7eon1PAZ",
              link: "./detail.html",
            },
            {
              productName: "í”¼í¬ë‹‰ ë°”êµ¬ë‹ˆ (ë ˆë“œ ì²´í¬ ì‹íƒë³´ í¬í•¨)",
              price: 19000,
              discountPrice: 9800,
              productId: "p2",
              imageUrl: "https://media.graphassets.com/nguzRYFFRPeRMClFt7YX",
            },
            {
              productName: "í”¼í¬ë‹‰ í”Œë ˆì € ë””ì‰¬ ìš°ë“œ íŠ¸ë ˆì´",
              price: 12400,
              discountPrice: 8400,
              productId: "p3",
              imageUrl: "https://media.graphassets.com/zJwe9WH5TvO0z6oZlOaZ",
            },
            {
              productName: "í”Œë¼ìŠ¤í‹± ì™€ì¸ ê³ ë¸”ë › ì” 2p",
              price: 10000,
              discountPrice: 8000,
              productId: "p4",
              imageUrl: "https://media.graphassets.com/RoWLHySjSgqrQeLR1N2B",
            },
          ],
        },
      ];

      document.addEventListener("DOMContentLoaded", function () {
        const container = document.querySelector("main");
        container.addEventListener("click", (e) => {
          if (e.target.matches(".add-cart-button")) {
            const itemId = e.target.parentElement.dataset.id;
            if (itemId) {
              addToCart(itemId);
            }
          }
        });
      });

      let cart = JSON.parse(localStorage.getItem("cart")) || [];

      const productList = [];

      data.forEach((p) => {
        p.products.forEach((p) => {
          productList.push(p);
        });
      });

      function addToCart(productId) {
        const product = productList.find((p) => p.productId === productId);
        if (product) {
          const isProductInCart = cart.some((p) => p.productId === productId);
          if (!isProductInCart) {
            cart.push({ ...product, quantity: 1 });
          } else {
            const productInCart = cart.find((p) => p.productId === productId);
            productInCart.quantity += 1;
          }
          saveCart();
        }
      }

      function saveCart() {
        localStorage.setItem("cart", JSON.stringify(cart));
        alert("ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!");
      }
    </script>
  </body>
</html>
